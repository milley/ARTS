# 什么是整洁的代码

[What Is Clean Code?](https://link.medium.com/NlFySBpELV)

在软件工程的领域中，经常阅读是构建基础知识的最佳探索。《代码整洁之道》是软件工程师必读的书籍。在工程师圈子中，这本书一直占据谷歌的“顶尖软件工程书籍”榜中。

下面有一些课程是初次接触的试金石。

在许多方面，《代码整洁之道》就是指的推荐的代码手册。

马丁描述了最佳实践和不好的编码习惯，劝告那些做的不好的原因。马丁对于失败者非常开放。多年来他一直致力于帮助那些代码习惯不好的工程师避开险境。总的来说，成百上千的工程师通过本书的学习无疑都提高了代码水平，写出了更整洁的代码。大多数工程师都是通过踩过足够多的不好的代码来艰苦的提升自身。

但是整洁的代码更像是指南。它描述了为什么写好的代码而不只是描述怎么写。相比起死记硬背书中的规则（对我来说是一个非常大的痛点），我尝试着去理解做为一个好的程序员的良好的价值观。对我来说，可以总结为以下3点。

## 1. 技艺项

很少有程序员对一块代码能赶到完美（因此，完美的代码本身就不成立，所以的事物都有缺点）。写出最好的代码是做为软件工匠最优先考虑的。有时，他们会推迟最后期限，客户需求，管理需求。业务边界经常设定的都是“可能”，但是程序员更愿意把控更多他要做的工作。

结果：代码有时候不是想要的结果。如果一个程序员的工作是做一个产品来解决一些问题，怎么样来解决这个问题变得重要吗？是的。长期下来对所有人都有好处，包括顾客、用户、公司和程序员自己。匆忙的完成凌乱的代码很快就会背上技术债。

> 差的代码在更快时间就会毁掉好的代码。

马丁建议写高品质代码的关键（深思过的，可维护的，灵活的代码）并且有好的结果（长期的报酬）。

## 2. 今天额外多花的精力会减少明天更多的痛苦

我们大多数人都有使用低质量产品的经验。想一想新的衣服丢到新的洗衣机中，或者孩子将塑料玩具从盒子拿出来。差的代码跟这没两样--这比你期望会更快的磨合。

相比较有时候更要去珍惜品质。我曾经穿过一双超过十年有点磨损的鞋子，不可否认这确实比其他的鞋子更贵，但是其实长久看来是更省钱。当时间快到的时候我们该如何做，扔掉那双鞋子？我还会再买一双一模一样的，因为我知道它能再用十年。

这和写代码是同样的道理。高质量的输入不止是产生持久的输出，还节省了金钱并且提升顾客的满意度。在一开始一丝不苟的重构和测试你的代码会消耗更久的时间，但是这样更能让代码可维护并且能减少技术债务。

## 3. 你的代码不是属于你的

你对你的工作感到自豪是非常重要的。能识别到这一点我认为非常重要。

> 过渡聪明的技巧，只是程序员乐于通过他的手来完成一些技巧。

这看起来像是一个悖论--毕竟，写出整洁的代码需要你和它的质量有利害关系。好的代码不是你的是因为其他人也要消费它，你的队友、顾客和未来的自己。当一些新特性系统维护者（或者你自己）理解不了的时候，为什么你写这些东西？毫无疑问去浪费宝贵的时间和心理负担去破解谜题。

## 什么是整洁的代码？

每个人都有自己的方式来完成整洁的代码--事实上，马丁的书包含了很多软件技巧。我从中学习到以下几点：

### 1. 整洁的代码是简单的。

有可能算法不简单或者系统等级比较复杂，但是实现的简单。程序员秀过渡聪明的技巧，减少代码的长期价值。冗长的代码花很长时间才能达到那个点。

### 2. 整洁的代码是可读性强的。

如果命名约定，空格，结构和流程没有设计，读者就没法理解作者的原始意图。如何去写刻度代码的约定看起来很教条或者缺少表达能力，但是这样能帮忙代码不会变的太神秘。

### 3. 整洁的代码是体贴的。

代码不能告诉未来的读者说代码在浪费他的时间。整洁的代码假象未来的消费者是聪明的，体贴的，专业的，可以去帮助他们。

### 4. 整洁的代码是可测试的。

没有人能一次写出完美的，没有缺陷的代码。即使有可能这样，也没有保证完美的代码不会出问题。写出整洁的代码就是写出可测试的代码。这种方式，未来用户可自信的相互影响那些工作。